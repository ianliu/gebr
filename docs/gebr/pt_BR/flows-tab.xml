<?xml version="1.0" encoding="utf-8" ?>

<section
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  lang="pt_BR"
  version="5.0"
  xml:id="sec_3_2">

  <title>A aba <guilabel>Fluxos</guilabel></title>
  <para>A aba <guilabel>Fluxos</guilabel> dispõe de nove botões de comando, localizados logo abaixo da aba, mais
    dois botões no campo Detalhes no canto inferior direito da tela. Por meio deles pode-se:</para>
  <itemizedlist>
    <listitem>
      <para>
        <link linkend="sec_3_2_1">Criar um novo fluxo</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="copiar_fluxos_area_tranferencia">Copiar fluxos para a área de transferência</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="colar_fluxos_area_tranferencia">Colar fluxos da área de transferência</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_4">Apagar fluxos</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="editar_propriedades_fluxo">Editar as propriedades de um fluxo</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_7">Salvar o estado de um fluxo</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_8">Importar um fluxo</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="exportar_fluxo">Exportar um fluxo</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <xref xrefstyle="select: title" linkend="executar_fluxo_aba_fluxos"/>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_11">Editar comentários</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="visualizar_relatorio_fluxo">Visualizar relatório</link>
      </para>
    </listitem>
  </itemizedlist>
  <tip>
    <para>Experimente usar <emphasis role="bold">menus de contexto</emphasis> no lugar dos botões de comando. Para
      isso, <emphasis role="bold">clique com o botão direito do mouse</emphasis> nos fluxos que você criar. Você vai
      notar que diversos comandos podem ser acionados por este método. Em determinados casos, isso é
      mais <emphasis role="bold">fácil e rápido</emphasis> do que usar os botões.</para>
  </tip>
  <section xml:id="sec_3_2_1">
    <title>Criar um novo fluxo</title>
    <para>Para criar um novo fluxo, primeiro certifique-se de ter <emphasis role="bold">criado e selecionado uma
        linha</emphasis>, na aba <guilabel>Projetos e Linhas</guilabel>. Feito isso, selecione a aba
      <guilabel>Fluxos</guilabel> e clique no
      botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_criar_fluxo.png"/></imageobject></inlinemediaobject></guiicon>. Na janela que se abre (<guilabel>Propriedades para
        fluxos</guilabel>), <xref linkend="editar_propriedades_fluxo"/> e clique em
      <guibutton>OK</guibutton> (veja mais detalhes na <xref linkend="criando_fluxos"/>).</para>
    <para><emphasis role="bold">Não há limitação</emphasis> para o número de fluxos na GêBR. Você pode criar quantos
      fluxos quiser dentro de uma linha.</para>
    <para>Depois de criados, os fluxos ficam <emphasis role="bold">visíveis no lado esquerdo da janela
        principal</emphasis>, quando a aba <guilabel>Fluxos</guilabel> está selecionada. A caixa
      <guilabel>Detalhes</guilabel>, localizada no lado direito da janela principal, exibe informações sobre o fluxo
      selecionado.</para>
    <tip>
      <para>Você pode <emphasis role="bold">mudar a posição</emphasis> de um fluxo na
        lista <emphasis role="bold">arrastando-o com o mouse</emphasis> para a posição desejada.</para>
    </tip>
    <tip>
      <para>Observe a <emphasis role="bold">barra de informações</emphasis> na parte de cima da janela principal,
        logo abaixo do menu <guimenu>Ações</guimenu>. Ela mostra a árvore completa do fluxo que estiver
        selecionado.</para>
    </tip>
  </section>
  <section xml:id="copiar_fluxos_area_tranferencia">
    <title>Copiar fluxos para a área de transferência</title>
    <para>A área de transferência provê o recurso popularmente conhecido como <emphasis role="bold">copiar e
        colar</emphasis>. Na GêBR, um fluxo (ou um conjunto de fluxos) pode ser copiado para a área de transferência
      por meio do
      botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_copiar_fluxo.png"/></imageobject></inlinemediaobject></guiicon> ou, mais prático, pelo conhecido atalho
      <keycombo><keycap>Ctrl</keycap><keycap>C</keycap></keycombo>.</para>
    <tip>
      <para>Você pode selecionar vários fluxos para serem copiados simultaneamente usando 
        <keycombo><keycap>Ctrl</keycap><mousebutton>Clique com botão esquerdo do mouse</mousebutton></keycombo> ou 
        <keycombo><keycap>Shift</keycap><mousebutton>Clique com botão esquerdo do mouse</mousebutton></keycombo>.</para>
    </tip>
  </section>
  <section xml:id="colar_fluxos_area_tranferencia">
    <title>Colar fluxos da área de transferência</title>
    <para>Depois de ter sido selecionado e copiado <xref linkend="copiar_fluxos_area_tranferencia"/>, um fluxo (ou um
      conjunto de fluxos) pode ser colado por meio do
      botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_colar_fluxo.png"/></imageobject></inlinemediaobject></guiicon> ou, mais prático, pelo conhecido atalho
      <keycombo><keycap>Ctrl</keycap><keycap>V</keycap></keycombo>.</para>
    <tip>
      <para>O fluxo (ou conjunto de fluxos) copiado anteriormente para a área de transferência pode ser colado
        em <emphasis role="bold">qualquer linha</emphasis> existente, e não só na linha de origem. Basta alternar
        para a aba <guilabel>Projetos e Linhas</guilabel>, selecionar a linha desejada, voltar para a aba
        <guilabel>Fluxos</guilabel> e colar o(s) fluxo(s).</para>
    </tip>
  </section>
  <section xml:id="sec_3_2_4">
    <title>Deletar fluxos</title>
    <para>Para excluir um fluxo (ou um conjunto de fluxos), selecione-o e clique no botão 
      <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_apagar_projeto.png"/></imageobject></inlinemediaobject></guiicon>.</para>
    <tip>
      <para>Você pode selecionar vários fluxos para serem excluidos simultaneamente usando 
        <keycombo><keycap>Ctrl</keycap><mousebutton>Clique com botão esquerdo do mouse</mousebutton></keycombo> ou 
        <keycombo><keycap>Shift</keycap><mousebutton>Clique com botão esquerdo do mouse</mousebutton></keycombo>.</para>
    </tip>
  </section>
  <section xml:id="editar_propriedades_fluxo">
    <title>Editar as propriedades de um fluxo</title>
    <para>Para editar as propriedades de um fluxo, selecione-o e clique no
      botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_editar_propriedades_projeto.png"/></imageobject></inlinemediaobject></guiicon>.</para>
    <para>Na janela <guilabel>Propriedades para Fluxo</guilabel> você pode editar os campos
      <guilabel>Título, Descrição, Autor e Email</guilabel>.</para>
  </section>
  <section xml:id="sec_3_2_6">
    <title>Editar o dicionário de variáveis de um fluxo</title>
    <para>Este recurso está documentado na <xref linkend="variaveis_dicionario"/>.</para>
  </section>
  <section xml:id="sec_3_2_7">
    <title>Salvar o estado de um fluxo</title>
    <para>Ao trabalhar com fluxos na GêBR, você encontrará diversas situações em que é interessante usar um fluxo
      existente como base para a criação de novos fluxos. Por exemplo, você pode querer fazer experiências com um
      fluxo sutilmente diferente de um outro que já existe, mas sem ter que descartar ou modificar o fluxo
      original.</para>
    <para>Uma forma de fazer isso é copiar e colar o fluxo (veja
      as seções <xref linkend="copiar_fluxos_area_tranferencia"/>
      e <xref linkend="colar_fluxos_area_tranferencia"/>), guardando o fluxo original e
      editando a cópia. Outra forma é salvar o estado atual do fluxo, para poder editá-lo e, quando desejar,
      retornar ao estado inicial. Para <emphasis role="bold">salvar o estado</emphasis> de um fluxo:</para>
    <procedure>
      <step>
        <para>Selecione o fluxo e clique no
          botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_salvar_estado.png"/></imageobject></inlinemediaobject></guiicon>.</para>
      </step>
      <step>
        <para>Se desejar, digite um comentário na janela <guilabel>Salvar estado do fluxo</guilabel>, para
          identificar o estado salvo.</para>
      </step>
      <step>
        <para>Clique em 
          <guibutton>OK</guibutton>.</para>
      </step>
    </procedure>
    <note>
      <para><emphasis role="bold">Não há limitação</emphasis> para o número de estados. Você pode salvar quantos
        estados quiser de um fluxo.</para>
    </note>
    <para>Para abrir a lista de estados salvos, clique no
      botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_salvar_estado_lista.png"/></imageobject></inlinemediaobject></guiicon>, à direita do
      botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_salvar_estado.png"/></imageobject></inlinemediaobject></guiicon>, e então selecione o estado para o qual quer retornar. Sempre que
      você selecionar um estado salvo na lista, o diálogo <guilabel>Fazer backup do estado atual?</guilabel> será
      exibido. Se clicar em <guibutton>Sim</guibutton>, a janela <guilabel>Salvar estado do fluxo</guilabel> se
      abrirá, e você poderá salvar um novo estado. Se clicar em <guibutton>Não</guibutton>, a GêBR apenas reverterá
      para o estado escolhido, sem salvar o atual.</para>
    <tip>
      <para>Se você tem certeza de já ter salvo o estado atual, pode clicar com segurança
        em <guibutton>Não</guibutton>, na janela <guilabel>Fazer backup do estado atual?</guilabel>. Isso evita encher
        a lista com estados redundantes.</para>
    </tip>
    <caution>
      <para>A GêBR preserva continuamente a lista de estados salvos. Mesmo que você desligue o computador, a lista
        será recuperada quando a GêBR for aberta novamente. Porém, se você <emphasis role="bold">deletar o
          fluxo</emphasis>, os estados salvos serão <emphasis role="bold">perdidos imediatamente</emphasis>.</para>
    </caution>
  </section>
  <section xml:id="sec_3_2_8">
    <title>Importar um fluxo</title>
    <para>A GêBR permite importar fluxos que tenham sido exportados
      <xref linkend="exportar_fluxo"/>. Para fazer isso:</para>
    <procedure>
      <step>
        <para>Certifique-se de ter  <emphasis role="bold">criado e selecionado uma linha</emphasis>, na aba 
          <guilabel>Projetos e Linhas</guilabel>. Lembre-se que, na GêBR, fluxos só podem existir dentro de linhas
          (veja este conceito na <xref linkend="projetos_linhas_fluxo_visao_geral"/>). Portanto,
          para importar um fluxo é necessário <emphasis role="bold">selecionar uma linha existente</emphasis> (ou
          <xref linkend="criar_nova_linha"/>, caso não exista nenhuma).</para>
      </step>
      <step>
        <para>Selecione a aba 
          <guilabel>Fluxos</guilabel> e clique no
          botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_importar_projeto.png"/></imageobject></inlinemediaobject></guiicon>.</para>
      </step>
      <step>
        <para>Navegue pela janela <guilabel>Escolha arquivo para abrir</guilabel> e selecione o fluxo que deseja
          importar (apenas arquivos do tipo <filename class="extension">flw</filename> serão mostrados).</para>
      </step>
      <step>
        <para>Clique no botão 
          <guibutton>Abrir</guibutton>.</para>
      </step>
    </procedure>
    <para>O fluxo importado é adicionado aos demais fluxos (se existirem) da linha que estiver selecionada no
      momento da importação.</para>
  </section>
  <section xml:id="exportar_fluxo">
    <title>Exportar um fluxo</title>
    <para>Embora a GêBR preserve continuamente todos os dados, às vezes é desejável manter os fluxos em arquivos
      (para compartilhamento ou cópia de segurança, por exemplo). Para exportar um fluxo:</para>
    <procedure>
      <step>
        <para>Selecione o fluxo que deseja salvar.</para>
      </step>
      <step>
        <para>Clique no
          botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_exportar_projeto.png"/></imageobject></inlinemediaobject></guiicon>.</para>
      </step>
      <step>
        <para>Na janela 
          <guilabel>Escolha arquivo para salvar</guilabel>, selecione uma pasta e digite um nome para o arquivo (a
          GêBR determina automaticamente a extensão <filename class="extension">flw</filename>).</para>
      </step>
      <step>
        <para>Clique no botão 
          <guibutton>Salvar</guibutton>.</para>
      </step>
    </procedure>
  </section>
  <section xml:id="executar_fluxo_aba_fluxos">
    <title>Executando fluxos</title>
    <para>O botão <guiicon><inlinemediaobject><imageobject><imagedata fileref="../../common-images/botao_executar_fluxo.png" /></imageobject></inlinemediaobject></guiicon>
      é utilizado para executar fluxos, e está presente tanto na aba <guilabel>Fluxos</guilabel> quanto na aba <guilabel>Editor de Fluxo</guilabel>.
      <figure>
        <mediaobject>
          <caption>
            Na aba Fluxos, entre outras funções, é possível executar vários Fluxos
            sequencialmente. Primeiro selecione os Fluxos desejados e clique em 
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="../../common-images/botao_executar_fluxo.png" />
                </imageobject>
              </inlinemediaobject>
          </guiicon>.</caption>
          <imageobject>
            <imagedata fileref="../images/GeBR_flow_browser.png" />
          </imageobject>
        </mediaobject>
      </figure>
    </para>
    <tip>Você pode selecionar vários Fluxos e executá-los
      <emphasis role="bold">sequencialmente</emphasis> clicando Ctrl+R.</tip>
    <tip>Você pode selecionar vários Fluxos e executá-los
      <emphasis role="bold">paralelamente</emphasis> clicando Ctrl+Shift+R.</tip>
    <caution>Ao executar vários Fluxos, a configuração do primeiro será utilizada em todos os Fluxos.</caution>
  </section>
  <section xml:id="sec_3_2_11">
    <title>Editar comentários da aba Fluxos</title>
    <para>Este comando aparece repetidamente nas abas <guilabel>Projetos e Linhas</guilabel> e em
      <guilabel>Fluxos</guilabel>. Através dele, o usuário pode adicionar comentários à linha ou ao fluxo criados.
      Ver <xref linkend="editar_comentarios"/>.</para>
  </section>
  <section xml:id="visualizar_relatorio_fluxo">
    <title>Visualizar relatório da aba Fluxos</title>
    <para>Este comando aparece repetidamente nas abas <guilabel>Projetos e Linhas</guilabel> e em
      <guilabel>Fluxos</guilabel>. Através dele, em ambas abas, pode-se gerar/visualizar o relatório da linha ou do
      fluxo em questão, com a pequena diferença de que é possível englobar o relatório do fluxo no relatório da
      linha. As demais funcionalidades são descritas na <xref linkend="visualizar_relatorio"/>.</para>
  </section>
</section>
