<?xml version="1.0" encoding="utf-8"?>

<section
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  lang="en"
  version="5.0"
  xml:id="flows_tab">

  <title>The <guilabel>Flows</guilabel> tab</title>

  <para>In this tab, the user can manage the Flows of the
    current Line.</para>

  <para>Just bellow the <guilabel>Flows</guilabel> tab there are ten
    buttons, plus two more buttons at the bottom of the Details
    box. These buttons will allow you to:</para>

  <itemizedlist>
    <listitem>
      <para>
        <link linkend="flows_browser_create_flow">Create a Flow,</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="flows_browser_copy_paste_del_flows">Coping, pasting and deleting Flows,</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="flows_browser_edit_properties_flow">Edit Flow's
        properties,</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="flows_browser_save_state_flow">Save a Flow's state,</link>
      </para>
    </listitem>
    <listitem>
      <para>
  <link linkend="flows_browser_import_flow">Import/Export a Flow,</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="flows_browser_execute_flow">Execute a Flow,</link>
      </para>
    </listitem>
 
    <listitem>
     <para>
       <link linkend="flows_browser_speed_execution">Execution speed,</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="flows_browser_edit_comments_flow">Edit comments,</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="flows_browser_view_report_flow">View Report.</link>
      </para>
    </listitem>
  </itemizedlist>

  <tip>
    <para>Instead of these buttons, try using
    the <emphasis role="bold">context menu</emphasis>. To do
    so, <emphasis role="bold">right-click</emphasis> on a Flow you
    have created. Notice that many features can be accessed through
    this method. For certain cases this is
    an <emphasis role="bold">easier and simpler</emphasis>
    choice.</para>
  </tip>

  <section xml:id="flows_browser_create_flow">
    <title>Creating Flows</title>

    <para>The third-level element of GêBR are processing flows or
      just <emphasis>Flows</emphasis> (see
      <xref linkend="concepts_elements" />).</para>

    <para>To create a Flow, follow the steps:</para>

    <procedure>
      <step><para>In the tab <guilabel>Projects and Lines</guilabel>,
          check that you have selected a Line.</para>
      </step>
      <step><para>Go to <guilabel>Flows</guilabel> tab, then
      left-click on
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../../common-images/botao_criar_fluxo.png" />
              </imageobject>
            </inlinemediaobject>
        </guiicon>.</para>
      </step>
      <step>
        <para>A dialog box, named <guilabel>Flow "New Flow"
        Properties</guilabel>, will appear. Fill in the four standard fields:
          <guilabel>Title</guilabel>, <guilabel>Description</guilabel>
          (an one-line sentence), <guilabel>Author</guilabel> and
          an <guilabel>e-mail</guilabel> address. Click
          on <guibutton>OK</guibutton> when ready.</para>
      </step>
    </procedure>

    <para>After you have created a Flow it will be 
      visible on the left side of the main window when the 
      <guilabel>Flows</guilabel> tab is selected. The 
      <guilabel>Details</guilabel> box, found on the right side of the
      main window, shows information about the selected Flow.
    </para>

    <tip>
      <para>You can alter the position of the Flow in the list by
        dragging the Flow with the mouse to the desired
        position.</para>
    </tip>
    <tip>
      <para>Observe that the information bar just bellow the menu
        <guimenu>Actions</guimenu> shows the parents Line and Project
        of the selected Flow.</para>
    </tip>

    <important>
      <para>Performing the operations described above the user has
      just accomplished the creation of a Flow element in the
      interface. However, that new Flow still needs to be assembled,
      i.e., the user needs to select which programs will be
      chained to accomplish the purpose of the Flow. This further set
      up is describe in <xref linkend="flow_editor_create_flow" />.</para>
    </important>
  </section>

  <section xml:id="flows_browser_copy_paste_del_flows">

    <title>Coping, pasting and deleting Flows</title>

    <para>The clipboard provides the popular set of tools known as
      <emphasis>copy and paste</emphasis>. In GêBR a Flow (or set of
      Flows) can be copied to the clipboard and paste back to the same
      Line or to other Lines. To copy Flows to the clipboard, first
      select them with the mouse, and then use the button
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_copiar_fluxo.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon> or press the usual shortcut
      <keycombo>
        <keycap>Ctrl</keycap>
        <keycap>C</keycap>
    </keycombo>. After copying, a Flow (or a set of Flows) you can paste it
      by clicking on the button
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_colar_fluxo.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon> or by simply using the shortcut 
      <keycombo>
        <keycap>Ctrl</keycap>
        <keycap>V</keycap>
    </keycombo>.</para>

    <para>To delete a Flow (or set of Flows), select them then click on 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_apagar_projeto.png" />
          </imageobject>
        </inlinemediaobject>
    </guiicon>.</para>

    <tip>
      <para>You can handle several Flows at once by holding
        <keycombo>
          <keycap>Ctrl</keycap>
          <mousebutton>Left-click</mousebutton>
        </keycombo> or 
        <keycombo>
          <keycap>Shift</keycap>
          <mousebutton>Left-click</mousebutton>
      </keycombo>.</para>
    </tip>

    <tip>
      <para>Any Flow (or a set of Flows) that has been copied to the
      clipboard can be pasted to <emphasis>any Line</emphasis>. Simply
      switch to the
      <guilabel>Projects and Lines</guilabel> tab, select the desired
      Line, then go back to the <guilabel>Flows</guilabel> tab and
      paste the Flow(s).</para>
    </tip>
  

  </section>

  <section xml:id="flows_browser_edit_properties_flow">
    <title>Editing Flow's properties</title>
    <para>To edit Flow's properties you must first select the Flow, then left-click on 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_editar_propriedades_projeto.png" />
          </imageobject>
        </inlinemediaobject>
    </guiicon>.</para>
    <para>In the 
      <guilabel>Flows properties</guilabel> dialog box you can edit the fields 
      <guilabel>Title, Description, Author and Email</guilabel>.</para>
  </section>
  <section xml:id="flows_browser_edit_dictionary">
    <title>Editing the Flow's parameter dictionary</title>
    <para>This feature is documented in the section 
      <xref linkend="dictionary_variables" />.</para>
  </section>
  <section xml:id="flows_browser_save_state_flow">
    <title>Saving a Flow's state</title>
    <para>Working with GêBR you will find situations where it will be useful to use an
      existing Flow as a basis to create new Flows. For example, you might want to experiment with
      Flows that are only slightly different from one another, however without having to discard or
      modify the original Flow.</para>
    <para>One way of doing this is to copy and paste the Flow (see the
      section <xref linkend="flows_browser_copy_paste_del_flows" />.
      Another way is to save the state of the original Flow, then edit
      it to your heart desire, and when you wish you can return the
      Flow to its original state. To
      <emphasis role="bold">save the Flow's state</emphasis>:</para>
    <procedure>
      <step>
        <para>Select the Flow and left-click on 
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../../common-images/botao_salvar_estado.png" />
              </imageobject>
            </inlinemediaobject>
        </guiicon>.</para>
      </step>
      <step>
        <para>If you want, you can write a comment on the state in the dialog box 
          <guilabel>Save the Flow's state</guilabel>, as to identify this saved state later
          on.</para>
      </step>
      <step>
        <para>Left-click on 
          <guibutton>OK</guibutton>.</para>
      </step>
    </procedure>
    <note>
      <para>There is <emphasis role="bold">no limit</emphasis> on the
      number of states for each Flow.</para>
    </note>

    <para>To open the list of saved states left-click on 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_salvar_estado_lista.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>, to the right of the button 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_salvar_estado.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>, then select the state you wish to recover. Whenever you select a saved state from
      the list, the dialog 
      <emphasis>Backup Current State</emphasis> will appear. If you click on 
      <guibutton>Yes</guibutton> the dialog
      <emphasis>Save the Flow's State</emphasis> will appear, where you can save this new state. If
      you click on 
      <guibutton>No</guibutton>, GêBR will simply revert to the chosen state without saving the
      current state.</para>
    <tip>
      <para>If you are sure you have saved your current state, we recommend that you click on 
        <guibutton>No</guibutton>, in the dialog box 
        <emphasis>Backup Current State</emphasis>, as to avoid a bloated state list.</para>
    </tip>
    <caution>
      <para>GêBR continuously saves the list of Flow states. Even if you turn off your computer
        this list will be recovered when you open GêBR again. However, if you 
        <emphasis role="bold">delete the Flow</emphasis> all the saved states will 
        <emphasis role="bold">immediately disappear forever</emphasis>.</para>
    </caution>
  </section>
  <section xml:id="flows_browser_import_flow">
    <title>Importing/Exporting a Flow</title>
    <para>Although GêBR maintains all your data, you still might wish to copy your Flows to file
        <para></para>

        <para>In the window 
          <guilabel>Save Flow</guilabel>, navigate to the directory you desire and type a name for
          the file (GêBR will automatically determine the extension 
          <filename class="extension">flw</filename>).</para>
      (perhaps to share with others or as a backup). To do so:</para>
    <procedure>
      <step>
        <para> In case of Import, you must first 
          <emphasis role="bold">select a Flow</emphasis> (or see
          <xref linkend="projects_lines_create_projects" />, if one does not exist).</para>
      </step>
      <step>
        <para>Select the tab 
          <guilabel>Flows</guilabel> and left-click on 
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../../common-images/botao_importar_projeto.png" />
              </imageobject>
            </inlinemediaobject>
          </guiicon> to import or on 
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../../common-images/botao_exportar_projeto.png" />
              </imageobject>
            </inlinemediaobject>
          </guiicon> to export.
        </para>
      </step>
      <step>
        <para>Navigate through the files and
          select the Flow you wish to
          import/export.</para>
      </step>
    </procedure>
    <para>In case of Import, the imported Flow will be
      listed along with any other Flows of the
      selected Line. Otherwise, in case of Export,
      the file containing the exported Flow will be
      created.</para>
  </section>


  <section xml:id="flows_browser_execute_flow">
    <title>Executing a Flow</title>
    <para>This command is present in the tab 
      <guilabel>Flows</guilabel> and in the tab 
      <guilabel>Flow editor</guilabel> through the button 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_executar_fluxo.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>. 
      <figure>
  <title>Flows tab</title>
        <mediaobject>
          <caption>In the tab Flows you are able to execute several
            Flows sequentially by first: selecting the Flows you wish
            to use, and then left-click on
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="../../common-images/botao_executar_fluxo.png" />
                </imageobject>
              </inlinemediaobject>
          </guiicon>.</caption>
          <imageobject>
            <imagedata fileref="../images/GeBR_flow_browser.png" />
          </imageobject>
        </mediaobject>
    </figure></para>
   
    <para>In GêBR, It's possible to execute a set of Flows. This operation is called 
      <emphasis role="bold">multiple execution</emphasis> . You can do it by two different ways:
      </para>
    <itemizedlist>
      <listitem>
  <para>Sequentially: Flows are executed in the order
          they are on the Flows List, on the left side of the window.
          Each flow waits for the end of the previous job, to be
          executed. During this time, the awaiting flow shows an icon
          of "Waiting for job". If you wish to execute in a specific
          order, just reorder your Flows by Drag and Drop.  To execute
          on this mode, click on
        <guiicon>
          <inlinemediaobject>
            <imageobject>
              <imagedata fileref="../../common-images/botao_executar_fluxo.png" />
            </imageobject>
          </inlinemediaobject>
        </guiicon> or use Ctrl+R.</para>
      </listitem>
      <listitem>
  <para>Parallely: Flows are executed simultaneously. It
          happens when there is no dependency between Flows. To,
          execute on this mode use Ctrl+Shift+R.</para>
      </listitem>
    </itemizedlist>

   
    <important>
      <para>When executig many Flows, the configurations of
  the first flow on the list will determine the
  others'.</para>
    </important>
  </section>

   <section xml:id="flows_browser_speed_execution">
    <title>Execution speed</title>
    <para>The flows' execution speed is determined by the number of
     processors and priority of execution.  It's possible to configure
     these parameters, as detailed in
     <xref linkend="flow_editor_multicores"/> and
     <xref linkend="flow_editor_priority_execution"/>.
     </para>
   </section>

  
  <section xml:id="flows_browser_edit_comments_flow">
    <title>Editing comments</title>
    <para>This button appears in the 
      <guilabel>Projects and Lines</guilabel> tab and in 
      <guilabel>Flows</guilabel> tab. This button allows the user to add comments about the selected
      Line or Flow. See 
      <xref linkend="projects_lines_edit_comments_project" />.</para>
  </section>
  <section xml:id="flows_browser_view_report_flow">
    <title>View Report</title>
    <para>This button appears in the 
      <guilabel>Projects and Lines</guilabel> tab and in 
      <guilabel>Flows</guilabel> tab. This button allows the user to View the report about the Line or
      Flow in use. The difference is that the Line's report can include the Flow's report.
      All other functions are described in 
      <xref linkend="projects_lines_view_report_project" />.</para>
  </section>
</section>
