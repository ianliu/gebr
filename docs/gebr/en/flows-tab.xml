<?xml version="1.0" encoding="utf-8"?>

<section
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  lang="en"
  version="5.0"
  xml:id="sec_3_2">

  <title>The 
    <guilabel>Flows</guilabel> tab</title>
  <para>Just bellow the 
    <guilabel>Flows</guilabel> tab there are nine buttons, plus two more buttons at the bottom of
    the Details box. These buttons will allow you to:</para>
  <itemizedlist>
    <listitem>
      <para>
        <link linkend="sec_3_2_1">Create a new Flow</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="copiar_fluxos_area_tranferencia">Copy Flows to the clipboard</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="colar_fluxos_area_tranferencia">Paste Flows from the clipboard</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_4">Delete Flows</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="editar_propriedades_fluxo">Edit Flow's properties</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_7">Save a Flow's state</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_8">Import a Flow</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="exportar_fluxo">Export a Flow</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="executar_fluxo">Execute a Flow</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="sec_3_2_11">Edit comments</link>
      </para>
    </listitem>
    <listitem>
      <para>
        <link linkend="visualizar_relatorio_fluxo">View Report</link>
      </para>
    </listitem>
  </itemizedlist>
  <tip>
    <para>Instead of these buttons, try using the 
      <emphasis role="bold">context menu</emphasis>. To do so, 
      <emphasis role="bold">right-click</emphasis> on a Flow you have created, notice that many
      features can be accessed through this method. For certain cases this is an 
      <emphasis role="bold">easier and simpler</emphasis> choice.</para>
  </tip>
  <section xml:id="sec_3_2_1">
    <title>Creating a new Flow</title>
    <para>To create a new Flow first check that you have already 
      <emphasis role="bold">created and selected a Line</emphasis> in the 
      <guilabel>Projects and Lines</guilabel> tab. When you have done this, select the 
      <guilabel>Flows</guilabel> tab and left-click on 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_criar_fluxo.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>. In the dialog box that opens, 
      <xref linkend="editar_propriedades_fluxo" />, fill in the required information then click on 
      <guibutton>OK</guibutton>. For more details see 
      <xref linkend="creating_flows" />.</para>
    <para>There is 
      <emphasis role="bold">no limit</emphasis> on the number of Flows you can have inside one Line
      or in total.</para>
    <para>After you have created a Flow it will be 
      <emphasis role="bold">visible on the left side of the main window</emphasis> when the 
      <guilabel>Flows</guilabel> tab is selected. The 
      <guilabel>Details</guilabel> box, found on the right side of the main window, shows
      information on the selected Flow .</para>
    <tip>
      <para>You can alter 
        <emphasis role="bold">the position</emphasis> of the Flow in the list by 
        <emphasis role="bold">dragging the Flow with the mouse</emphasis> to the desired
        position.</para>
    </tip>
    <tip>
      <para>Observe that the 
        <emphasis role="bold">information bar</emphasis> just bellow the menu 
        <guimenu>Actions</guimenu> shows the complete Flow tree of the selected Flow.</para>
    </tip>
  </section>
  <section xml:id="copiar_fluxos_area_tranferencia">
    <title>Copying Flows to the clipboard</title>
    <para>The clipboard provides the popular set of tools known as 
      <emphasis role="bold">copying and pasting</emphasis>. In GêBR a Flow (or set of Flows) can be
      copied to the clipboard by using the button 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_copiar_fluxo.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon> or by using the known shortcut 
      <keycombo>
        <keycap>Ctrl</keycap>
        <keycap>C</keycap>
    </keycombo>.</para>
    <tip>
      <para>You can select several Flows and then copy all of them to the clipboard by holding 
        <keycombo>
          <keycap>Ctrl</keycap>
          <mousebutton>Left-click</mousebutton>
        </keycombo> or 
        <keycombo>
          <keycap>Shift</keycap>
          <mousebutton>Left-click</mousebutton>
      </keycombo>.</para>
    </tip>
  </section>
  <section xml:id="colar_fluxos_area_tranferencia">
    <title>Pasting Flows from the clipboard</title>
    <para>After copying 
      <xref linkend="copiar_fluxos_area_tranferencia" />, a Flow (or a set of Flows) you can paste
      it by clicking on the button 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_colar_fluxo.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon> or by simply using the shortcut 
      <keycombo>
        <keycap>Ctrl</keycap>
        <keycap>V</keycap>
    </keycombo>.</para>
    <tip>
      <para>Any Flow (or a set of Flows) that has been copied to the clipboard can be pasted to 
        <emphasis role="bold">any Line</emphasis>. Simply switch to the 
        <guilabel>Projects and Lines</guilabel> tab, select the desired Line, then go back to the 
        <guilabel>Flows</guilabel> tab and paste the Flow(s).</para>
    </tip>
  </section>
  <section xml:id="sec_3_2_4">
    <title>Deleting Flows</title>
    <para>To delete a Flow (or set of Flows), select them then click on 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_apagar_projeto.png" />
          </imageobject>
        </inlinemediaobject>
    </guiicon>.</para>
    <tip>
      <para>You can select several Flows at once and then delete them by holding 
        <keycombo>
          <keycap>Ctrl</keycap>
          <mousebutton>Left-click</mousebutton>
        </keycombo> or 
        <keycombo>
          <keycap>Shift</keycap>
          <mousebutton>Left-click</mousebutton>
      </keycombo>.</para>
    </tip>
  </section>
  <section xml:id="editar_propriedades_fluxo">
    <title>Editing Flow's properties</title>
    <para>To edit Flow's properties you must first select the Flow, then left-click on 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_editar_propriedades_projeto.png" />
          </imageobject>
        </inlinemediaobject>
    </guiicon>.</para>
    <para>In the 
      <guilabel>Flows properties</guilabel> dialog box you can edit the fields 
      <guilabel>Title, Description, Author and Email</guilabel>.</para>
  </section>
  <section xml:id="sec_3_2_6">
    <title>Editing the Flow's parameter dictionary</title>
    <para>This feature is documented in the section 
      <xref linkend="variaveis_dicionario" />.</para>
  </section>
  <section xml:id="sec_3_2_7">
    <title>Saving a Flow's state</title>
    <para>Working with GêBR you will encounter situations where it will be useful to use an
      existing Flow as a basis to create new Flows. For example, you might want to experiment with
      Flows that are only slightly different from one another, however without having to discard or
      modify the original Flow.</para>
    <para>One way of doing this is to copy and paste the Flow (see the section 
      <xref linkend="copiar_fluxos_area_tranferencia" />and 
      <xref linkend="colar_fluxos_area_tranferencia" />).  
      Another way is to save the state of the original Flow, then edit it to your heart desire,
      and when you wish you can return the Flow to its original state. To 
      <emphasis role="bold">save the Flow's state</emphasis>:</para>
    <procedure>
      <step>
        <para>Select the Flow and left-click on 
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../../common-images/botao_salvar_estado.png" />
              </imageobject>
            </inlinemediaobject>
        </guiicon>.</para>
      </step>
      <step>
        <para>If you want, you can write a comment on the state in the dialog box 
          <guilabel>Save the Flow's state</guilabel>, as to identify this saved state later
          on.</para>
      </step>
      <step>
        <para>Left-click on 
          <guibutton>OK</guibutton>.</para>
      </step>
    </procedure>
    <note>
      <para>There is 
        <emphasis role="bold">no limit</emphasis> on the number of states for each Flow.</para>
    </note>
    <para>To open the list of saved states left-click on 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_salvar_estado_lista.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>, to the right of the button 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_salvar_estado.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>, then select the state you wish to recover. Whenever you select a saved state from
      the list, the dialog 
      <emphasis>Backup Current State</emphasis> will appear. If you click on 
      <guibutton>Yes</guibutton> the dialog
      <emphasis>Save the Flow's State</emphasis> will appear, where you can save this new state. If
      you click on 
      <guibutton>No</guibutton>, GêBR will simply revert to the chosen state without saving the
      current state.</para>
    <tip>
      <para>If you are sure you have saved your current state, we recommend that you click on 
        <guibutton>No</guibutton>, in the dialog box 
        <emphasis>Backup Current State</emphasis>, as to avoid a bloated state list.</para>
    </tip>
    <caution>
      <para>GêBR continuously saves the list of Flow states. Even if you turn off your computer
        this list will be recovered when you open GêBR again. However, if you 
        <emphasis role="bold">delete the Flow</emphasis> all the saved states will 
        <emphasis role="bold">immediately disappear forever</emphasis>.</para>
    </caution>
  </section>
  <section xml:id="sec_3_2_8">
    <title>Importing a Flow</title>
    <para>GêBR allows you to import Flows that were previously exported 
      <xref linkend="exportar_fluxo" />. To do so:</para>
    <procedure>
      <step>
        <para>Check that you have already 
          <emphasis role="bold">created and selected a Line</emphasis>, in the tab 
          <guilabel>Projects and Lines</guilabel>. Remember that Flows can only exist inside Lines
          (see this concept in Section 
          <xref linkend="projetos_linhas_fluxo_visao_geral" />). To import a Flow you must first 
          <emphasis role="bold">select a Line</emphasis> (or 
          <xref linkend="criar_nova_linha" />, if one does not exist).</para>
      </step>
      <step>
        <para>Select the tab 
          <guilabel>Flows</guilabel> and left-click on 
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../../common-images/botao_importar_projeto.png" />
              </imageobject>
            </inlinemediaobject>
        </guiicon>.</para>
      </step>
      <step>
        <para>Navigate through the 
          <guilabel>Choose a Flow to import</guilabel> and select a Flow you wish to import (only
          the file types 
          <filename class="extension">flw</filename> will appear).</para>
      </step>
      <step>
        <para>Left-click on the button 
          <guibutton>Open</guibutton>.</para>
      </step>
    </procedure>
    <para>The imported Flow will be listed along with any other Flows of the selected
      Line.</para>
  </section>
  <section xml:id="exportar_fluxo">
    <title>Exporting a Flow</title>
    <para>Although GêBR maintains all your data, you still might wish to copy your Flows to file
      (perhaps to share with others or as a backup). To export a Flow:</para>
    <procedure>
      <step>
        <para>Select the Flow you wish to save.</para>
      </step>
      <step>
        <para>Left-click on 
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../../common-images/botao_exportar_projeto.png" />
              </imageobject>
            </inlinemediaobject>
        </guiicon>.</para>
      </step>
      <step>
        <para>In the window 
          <guilabel>Save Flow</guilabel>, navigate to the directory you desire and type a name for
          the file (GêBR will automatically determine the extension 
          <filename class="extension">flw</filename>).</para>
      </step>
      <step>
        <para>Left-click on the button 
          <guibutton>Save</guibutton>.</para>
      </step>
    </procedure>
  </section>
  <section xml:id="executar_fluxo_aba_fluxos">
    <title>Executing a Flow</title>
    <para>This command is present in the tab 
      <guilabel>Flows</guilabel> and in the tab 
      <guilabel>Flow editor</guilabel> through the button 
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../../common-images/botao_executar_fluxo.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>. 
      <figure>
        <mediaobject>
          <caption>In the tab Flows you are able to execute several Flows sequentially by first:
            selecting the Flows you wish to use, and then left-click on 
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="../../common-images/botao_executar_fluxo.png" />
                </imageobject>
              </inlinemediaobject>
          </guiicon>.</caption>
          <imageobject>
            <imagedata fileref="../images/GeBR_flow_browser.png" />
          </imageobject>
        </mediaobject>
    </figure></para>
    <tip>You can select several Flows and execute them 
      <emphasis role="bold">sequentially</emphasis> by pressing Ctrl+R.</tip>
    <tip>You can select several Flows and execute them 
      <emphasis role="bold">parallelly</emphasis> by pressing Ctrl+Shift+R.</tip>
    <caution>When executing multiple flows, the configuration of the first flow (when and where
      to execute) is going to be replicated to the other flows.</caution>
  </section>
  <section xml:id="sec_3_2_11">
    <title>Editing comments</title>
    <para>This button appears in the 
      <guilabel>Projects and Lines</guilabel> tab and in 
      <guilabel>Flows</guilabel> tab. This button allows the user to add comments about the selected
      Line or Flow. See 
      <xref linkend="editar_comentarios" />.</para>
  </section>
  <section xml:id="visualizar_relatorio_fluxo">
    <title>View Report</title>
    <para>This button appears in the 
      <guilabel>Projects and Lines</guilabel> tab and in 
      <guilabel>Flows</guilabel> tab. This button allows the user to View the report on the Line or
      Flow in question, with the difference that the Line's report can include the Flow's report.
      All other functions are described in 
      <xref linkend="visualizar_relatorio" />.</para>
  </section>
</section>
